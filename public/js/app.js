(self.webpackChunk=self.webpackChunk||[]).push([[773],{99:(t,e,a)=>{"use strict";var n=a(538);a(147),a(443),window.Vue=a(538),n.default.component("weather-component",a(845).Z);new n.default({el:"#app"})},147:(t,e,a)=>{window.axios=a(669),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},134:()=>{},845:(t,e,a)=>{"use strict";a.d(e,{Z:()=>i});const n={props:{defaultLocation:{type:Object,required:!0}},mounted:function(){this.fetchData(),this.fetchLocation()},data:function(){return{loading:!1,location:{name:this.defaultLocation.name,lat:this.defaultLocation.lat,lon:this.defaultLocation.lon},currentTemp:{actualTemp:"",feelsLike:"",summary:"",icon:""},daily:[],loadingIcon:"/images/icons/loading.svg",iconLink:"/images/icons/"}},methods:{fetchData:function(){var t=this;this.loading=!0,fetch("/api/weather?lat=".concat(this.location.lat,"&lon=").concat(this.location.lon)).then((function(t){return t.json()})).then((function(e){console.log(e),t.loading=!1,t.currentTemp.actualTemp=e.current.temp,t.currentTemp.feelsLike=e.current.feels_like,t.currentTemp.summary=e.current.weather[0].main,t.currentTemp.icon=t.iconLink+e.current.weather[0].main.toLowerCase()+".svg",t.daily=e.daily}))},toDayOfWeek:function(t){return["SUN","MON","TUE","WED","THU","FRI","SAT"][new Date(1e3*t).getDay()]},fetchLocation:function(){var t=this,e=places({appId:Weathy.places.appId,apiKey:Weathy.places.apiKey,container:document.querySelector("#address")}).configure({type:"city",aroundLatLngViaIP:!1}),a=document.querySelector("#address-value");e.on("change",(function(e){a.textContent=e.suggestion.value,t.location.name="".concat(e.suggestion.name,", ").concat(e.suggestion.country),t.location.lat=e.suggestion.latlng.lat,t.location.lon=e.suggestion.latlng.lng})),e.on("clear",(function(){a.textContent="none"})),a.textContent=this.location.name}},watch:{location:{handler:function(t,e){this.fetchData()},deep:!0}}};const i=(0,a(900).Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-white mb-8"},[t._m(0),t._v(" "),a("div",{staticClass:"weather-container font-sans md:w-128 max-w-lg rounded-lg overflow-hidden bg-gray-900 shadow-lg mt-8 drop-shadow-2xl"},[a("div",{staticClass:"current-weather flex items-center justify-between px-6 py-8"},[a("div",{staticClass:"flex flex-col md:flex-row items-center"},[a("div",[a("div",{staticClass:"text-5xl font-semibold"},[t._v(t._s(Math.round(t.currentTemp.actualTemp))+"째C")]),t._v(" "),a("div",[t._v("Feels like "+t._s(Math.round(t.currentTemp.feelsLike))+"째C")])]),t._v(" "),a("div",{staticClass:"md:mx-5"},[a("div",{staticClass:"font-semibold"},[t._v(t._s(t.currentTemp.summary))]),t._v(" "),a("div",[t._v(t._s(t.location.name))])])]),t._v(" "),a("div",[a("img",{attrs:{src:t.loading?t.loadingIcon:t.currentTemp.icon,width:"90px",height:"90px"}})])]),t._v(" "),a("div",{staticClass:"future-weather text-sm bg-gray-800 px-6 py-8 overflow-hidden pt-0"},t._l(t.daily,(function(e,n){return n>0&&n<6?a("div",{key:e.dt,staticClass:"flex items-center",class:{"mt-8":n>0}},[a("div",{staticClass:"w-1/6 text-lg text-gray-200 font-light"},[t._v(t._s(t.toDayOfWeek(e.dt)))]),t._v(" "),a("div",{staticClass:"w-4/6 px-4 flex items-center"},[a("div",[a("img",{attrs:{src:t.iconLink+e.weather[0].main.toLowerCase()+".svg",width:"70px",height:"70px"}})]),t._v(" "),a("div",{staticClass:"ml-3"},[t._v(t._s(e.weather[0].description))])]),t._v(" "),a("div",{staticClass:"w-1/6 text-right"},[a("div",[t._v(t._s(Math.round(e.temp.max))+"째C")]),t._v(" "),a("div",[t._v(t._s(Math.round(e.temp.min))+"째C")])])]):t._e()})),0)])])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"places-input text-gray-800"},[a("input",{attrs:{type:"text",id:"address",placeholder:"Choose a city..."}}),t._v(" "),a("p",{staticClass:"mt-4 text-white opacity-80"},[t._v("\n      Selected:\n      "),a("strong",{attrs:{id:"address-value"}},[t._v("none")])])])}],!1,null,null,null).exports}},t=>{var e=e=>t(t.s=e);t.O(0,[170,898],(()=>(e(99),e(134))));t.O()}]);